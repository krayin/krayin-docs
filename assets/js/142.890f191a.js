(window.webpackJsonp=window.webpackJsonp||[]).push([[142],{481:function(e,t,a){"use strict";a.r(t);var r=a(17),s=Object(r.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#overview-of-the-magic-ai-service"}},[e._v("Overview of the Magic AI Service")])]),t("li",[t("a",{attrs:{href:"#supported-file-types"}},[e._v("Supported File Types")])]),t("li",[t("a",{attrs:{href:"#system-prompt-for-ai-processing"}},[e._v("System Prompt for AI Processing")]),t("ul",[t("li",[t("a",{attrs:{href:"#expected-ai-output-format"}},[e._v("Expected AI Output Format")])]),t("li",[t("a",{attrs:{href:"#fields-extracted"}},[e._v("Fields Extracted")])])])]),t("li",[t("a",{attrs:{href:"#configuration-guide"}},[e._v("Configuration Guide")])]),t("li",[t("a",{attrs:{href:"#using-the-feature-lead-creation-via-file-upload"}},[e._v("Using the Feature – Lead Creation via File Upload")])]),t("li",[t("a",{attrs:{href:"#developer-implementation-details"}},[e._v("Developer Implementation Details")])])])]),t("p"),e._v(" "),t("h1",{attrs:{id:"ai-powered-lead-generation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ai-powered-lead-generation"}},[e._v("#")]),e._v(" AI-Powered Lead Generation")]),e._v(" "),t("p",[e._v("Krayin CRM introduces an "),t("strong",[e._v("AI-powered feature")]),e._v(" designed to automate the creation of leads and contacts by extracting structured data from uploaded documents such as invoices, business cards, and other similar files.")]),e._v(" "),t("p",[e._v("This feature integrates with the OpenRouter AI platform to interpret and process the contents of supported file types, reducing the need for manual data entry and enabling faster lead management.")]),e._v(" "),t("h2",{attrs:{id:"overview-of-the-magic-ai-service"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#overview-of-the-magic-ai-service"}},[e._v("#")]),e._v(" Overview of the Magic AI Service")]),e._v(" "),t("p",[e._v("The core functionality is handled by the "),t("code",[e._v("MagicAIService")]),e._v(" class located at:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Webkul\\Lead\\Services\\MagicAIService\n")])])]),t("p",[e._v("This service provides a complete workflow for:")]),e._v(" "),t("ul",[t("li",[e._v("Validating and decoding Base64-encoded files")]),e._v(" "),t("li",[e._v("Extracting content (text and images) from supported documents")]),e._v(" "),t("li",[e._v("Interacting with the OpenRouter AI API to generate structured responses")]),e._v(" "),t("li",[e._v("Mapping the response to a valid lead format in Krayin CRM")])]),e._v(" "),t("h2",{attrs:{id:"supported-file-types"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#supported-file-types"}},[e._v("#")]),e._v(" Supported File Types")]),e._v(" "),t("p",[e._v("Currently, this feature supports the following:")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("PDF files")]),e._v(" with embedded or scanned text/images")]),e._v(" "),t("li",[t("strong",[e._v("Image files")]),e._v(" (to be expanded in future versions)")])]),e._v(" "),t("p",[e._v("The system uses the "),t("code",[e._v("smalot/pdfparser")]),e._v(" PHP library to extract data from PDF files, and supports embedded image extraction for further AI processing.")]),e._v(" "),t("h2",{attrs:{id:"system-prompt-for-ai-processing"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#system-prompt-for-ai-processing"}},[e._v("#")]),e._v(" System Prompt for AI Processing")]),e._v(" "),t("p",[e._v("The AI model uses a structured system prompt to ensure consistent output. This prompt instructs the AI to extract specific fields from the document’s content.")]),e._v(" "),t("h3",{attrs:{id:"expected-ai-output-format"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#expected-ai-output-format"}},[e._v("#")]),e._v(" Expected AI Output Format")]),e._v(" "),t("p",[e._v("The AI returns a JSON structure similar to the following:")]),e._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"status"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"title"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Untitled Lead"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"lead_value"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"person"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Unknown"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"emails"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"value"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token null keyword"}},[e._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"label"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token null keyword"}},[e._v("null")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"contact_numbers"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"value"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token null keyword"}},[e._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"label"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token null keyword"}},[e._v("null")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("h3",{attrs:{id:"fields-extracted"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fields-extracted"}},[e._v("#")]),e._v(" Fields Extracted")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("Title")]),e._v(": Title of the lead (e.g., Invoice Subject or Project Title)")]),e._v(" "),t("li",[t("strong",[e._v("Lead Value")]),e._v(": Monetary value of the lead")]),e._v(" "),t("li",[t("strong",[e._v("Person Name")]),e._v(": Name of the individual or contact person")]),e._v(" "),t("li",[t("strong",[e._v("Person Email")]),e._v(": Email address with optional label (e.g., work, personal)")]),e._v(" "),t("li",[t("strong",[e._v("Person Contact Number")]),e._v(": Phone number with optional label")])]),e._v(" "),t("p",[e._v("If any of these fields are missing in the source document, the AI will use fallback default values as shown above.")]),e._v(" "),t("h2",{attrs:{id:"configuration-guide"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configuration-guide"}},[e._v("#")]),e._v(" Configuration Guide")]),e._v(" "),t("p",[e._v("To enable and configure AI-based lead creation, follow these steps:")]),e._v(" "),t("ol",[t("li",[e._v("Go to the "),t("strong",[e._v("Admin Panel")]),e._v(" in Krayin CRM.")]),e._v(" "),t("li",[e._v("Navigate to "),t("strong",[e._v("Settings > Configuration > General > Magic AI")]),e._v(".")]),e._v(" "),t("li",[e._v("Enable the "),t("strong",[e._v("Magic AI")]),e._v(" feature.")]),e._v(" "),t("li",[e._v("Enter your "),t("strong",[e._v("API Key")]),e._v(" from "),t("a",{attrs:{href:"https://openrouter.ai/",target:"_blank",rel:"noopener noreferrer"}},[e._v("OpenRouter.ai"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("li",[e._v("Select your preferred "),t("strong",[e._v("AI model")]),e._v(" from the available options.")]),e._v(" "),t("li",[e._v("(Optional) You can add additional model IDs by referencing the models list available at "),t("a",{attrs:{href:"https://openrouter.ai/models",target:"_blank",rel:"noopener noreferrer"}},[e._v("Openrouter Models"),t("OutboundLink")],1),e._v(".")])]),e._v(" "),t("p",[e._v("now enable the DOC Generation.")]),e._v(" "),t("p",[e._v("Once configured, the AI engine will be activated and ready to process document uploads.")]),e._v(" "),t("h2",{attrs:{id:"using-the-feature-lead-creation-via-file-upload"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#using-the-feature-lead-creation-via-file-upload"}},[e._v("#")]),e._v(" Using the Feature – Lead Creation via File Upload")]),e._v(" "),t("p",[e._v("After enabling and configuring the Magic AI service, follow these steps to generate leads:")]),e._v(" "),t("ol",[t("li",[e._v("Navigate to the "),t("strong",[e._v("Leads")]),e._v(" section from the CRM sidebar.")]),e._v(" "),t("li",[e._v("Click on the "),t("strong",[e._v("Upload File")]),e._v(" button.")]),e._v(" "),t("li",[e._v("A modal window will appear. Select and upload a document (e.g., an invoice or business card).")]),e._v(" "),t("li",[e._v("The AI service will automatically extract relevant data and create a new lead based on the extracted information.")])]),e._v(" "),t("p",[e._v("This process is particularly useful for importing leads from offline documents or third-party sources.")]),e._v(" "),t("h2",{attrs:{id:"developer-implementation-details"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#developer-implementation-details"}},[e._v("#")]),e._v(" Developer Implementation Details")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("Concurrency Protection")]),e._v(": The "),t("code",[e._v("MagicAIService")]),e._v(" includes a re-entrancy flag to prevent recursive processing of the same file.")]),e._v(" "),t("li",[t("strong",[e._v("File Handling")]),e._v(": Files are temporarily stored, parsed, and deleted after processing.")]),e._v(" "),t("li",[t("strong",[e._v("Data Truncation")]),e._v(": If the file contains too much text, the prompt is truncated intelligently to stay within the token limit allowed by the model.")]),e._v(" "),t("li",[t("strong",[e._v("AI Integration")]),e._v(": API requests are sent using Laravel’s HTTP client with secure headers and model configurations.")]),e._v(" "),t("li",[t("strong",[e._v("Error Handling")]),e._v(": All errors (invalid Base64, empty files, AI response issues) are caught and returned as localized messages using Laravel’s "),t("code",[e._v("trans()")]),e._v(" function.")])])])}),[],!1,null,null,null);t.default=s.exports}}]);