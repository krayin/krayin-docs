(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{433:function(t,e,a){"use strict";a.r(e);var r=a(17),s=Object(r.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#introduction"}},[t._v("Introduction")])]),e("li",[e("a",{attrs:{href:"#features"}},[t._v("Features")])]),e("li",[e("a",{attrs:{href:"#usage"}},[t._v("Usage")])]),e("li",[e("a",{attrs:{href:"#importing-data"}},[t._v("Importing Data")])]),e("li",[e("a",{attrs:{href:"#validation"}},[t._v("Validation")])]),e("li",[e("a",{attrs:{href:"#error-handling"}},[t._v("Error Handling")])]),e("li",[e("a",{attrs:{href:"#crud-actions"}},[t._v("CRUD Actions")])]),e("li",[e("a",{attrs:{href:"#edit-import-data"}},[t._v("Edit Import Data")])]),e("li",[e("a",{attrs:{href:"#conclusion"}},[t._v("Conclusion")])])])]),e("p"),t._v(" "),e("h3",{attrs:{id:"introduction"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[t._v("#")]),t._v(" Introduction")]),t._v(" "),e("p",[t._v("The "),e("strong",[t._v("Data Transfer Module")]),t._v(" allows you to import large amounts of data from CSV files into your application, with support for leads, products, and persons entities. This module leverages Laravel's queue feature for efficient handling of large datasets, ensuring seamless imports even in high-volume scenarios. Additionally, it includes comprehensive validation and error-handling strategies to provide flexibility in dealing with data integrity.")]),t._v(" "),e("h3",{attrs:{id:"features"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#features"}},[t._v("#")]),t._v(" Features")]),t._v(" "),e("ol",[e("li",[e("strong",[t._v("Queue and Non-Queue Based Import")]),t._v(": Supports importing via Laravel queues for background processing or direct imports for smaller datasets(Without Queue/Sync).")]),t._v(" "),e("li",[e("strong",[t._v("CSV Data Validation")]),t._v(": Validate CSV data before importing to ensure data integrity.")]),t._v(" "),e("li",[e("strong",[t._v("Validation Strategies")]),t._v(": Choose between different strategies to handle data errors ("),e("code",[t._v("Stop on Error")]),t._v(", "),e("code",[t._v("Skip Errors")]),t._v(").")]),t._v(" "),e("li",[e("strong",[t._v("CSV Delimiter Customization")]),t._v(": Support for different CSV delimiters.")]),t._v(" "),e("li",[e("strong",[t._v("Allowed Errors")]),t._v(": Configure the number of allowable errors before the process fails.")]),t._v(" "),e("li",[e("strong",[t._v("CRUD Actions")]),t._v(": Supports Create, Update, and Delete operations.")])]),t._v(" "),e("h3",{attrs:{id:"usage"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#usage"}},[t._v("#")]),t._v(" Usage")]),t._v(" "),e("h3",{attrs:{id:"importing-data"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#importing-data"}},[t._v("#")]),t._v(" Importing Data")]),t._v(" "),e("p",[t._v("The module can import data for "),e("strong",[t._v("Leads")]),t._v(", "),e("strong",[t._v("Products")]),t._v(", and "),e("strong",[t._v("Persons")]),t._v(" entities from CSV files. You can run the import with or without Laravel's queue feature, depending on your dataset size.")]),t._v(" "),e("h4",{attrs:{id:"_1-import-without-queue"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-import-without-queue"}},[t._v("#")]),t._v(" 1. Import without Queue")]),t._v(" "),e("p",[t._v("If you prefer to import data without utilizing a queue system, you can achieve this by turning off the queue processing functionality.")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),e("p",[t._v("This is not recommended for large datasets.")])]),t._v(" "),e("h4",{attrs:{id:"_2-import-with-queue"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-import-with-queue"}},[t._v("#")]),t._v(" 2. Import with Queue")]),t._v(" "),e("p",[t._v("To import data using a queue system, enable queue processing and ensure the Laravel queue worker is running on your server. For automatic handling, use Supervisor to keep the queue worker running in the background.")]),t._v(" "),e("p",[t._v("You can install Supervisor with this command:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" supervisor\n")])])]),e("p",[t._v("After installing, go to the "),e("code",[t._v("/etc/supervisor/conf.d")]),t._v(" directory and create a file like "),e("code",[t._v("laravel-worker.conf")]),t._v(". Here's an example configuration:")]),t._v(" "),e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token section"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token section-name selector"}},[t._v("program:laravel-worker")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("process_name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("%(program_name)s_%(process_num)02d")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("command")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("php /path-to-your-project/artisan queue:work --sleep=3 --tries=3 --max-time=3600")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("autostart")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("autorestart")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("stopasgroup")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("killasgroup")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("user")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("your-username")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("numprocs")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("8")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("redirect_stderr")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("stdout_logfile")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("/path-to-your-project/worker.log")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("stopwaitsecs")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("3600")]),t._v("\n")])])]),e("p",[t._v("Make sure to update the "),e("code",[t._v("command")]),t._v(", "),e("code",[t._v("user")]),t._v(", and paths ("),e("code",[t._v("/path-to-your-project/")]),t._v(") according to your server setup.")]),t._v(" "),e("blockquote",[e("p",[e("strong",[t._v("Note")]),t._v(": "),e("code",[t._v("stopwaitsecs")]),t._v(" should be set longer than your longest running job to prevent jobs from getting killed early.")])]),t._v(" "),e("p",[t._v("After creating the config, run these commands to activate it:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" supervisorctl reread\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" supervisorctl update\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" supervisorctl start "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"laravel-worker:*"')]),t._v("\n")])])]),e("p",[t._v("Or, if you don't want to set up Laravel Supervisor, you can manually run the queue worker using the terminal by executing the following command:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("php artisan queue:work\n")])])]),e("h3",{attrs:{id:"validation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#validation"}},[t._v("#")]),t._v(" Validation")]),t._v(" "),e("p",[t._v("Before importing the CSV data, the module validates the records based on the rules defined for each entity. There are two validation strategies you can choose from:")]),t._v(" "),e("h4",{attrs:{id:"validation-strategies"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#validation-strategies"}},[t._v("#")]),t._v(" Validation Strategies")]),t._v(" "),e("ol",[e("li",[e("strong",[t._v("Stop on Errors")]),t._v(": This strategy will halt the import process when an error is encountered.")]),t._v(" "),e("li",[e("strong",[t._v("Skip Errors")]),t._v(": This strategy skips the rows with errors and continues importing the valid data.")])]),t._v(" "),e("h4",{attrs:{id:"csv-delimiter"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#csv-delimiter"}},[t._v("#")]),t._v(" CSV Delimiter")]),t._v(" "),e("p",[t._v("The default delimiter is a comma ("),e("code",[t._v(",")]),t._v("). If your CSV uses a different delimiter, you can specify it during the import:")]),t._v(" "),e("h3",{attrs:{id:"error-handling"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#error-handling"}},[t._v("#")]),t._v(" Error Handling")]),t._v(" "),e("p",[t._v("You can configure the number of allowable errors before the process fails. If the error threshold is met, the import will be terminated and shows to display.\nErrors during the import process are logged, and a detailed report is generated, showing which rows failed and why.")]),t._v(" "),e("h3",{attrs:{id:"crud-actions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#crud-actions"}},[t._v("#")]),t._v(" CRUD Actions")]),t._v(" "),e("p",[t._v("The module supports three main actions during the import process:")]),t._v(" "),e("ol",[e("li",[e("p",[e("strong",[t._v("Create")]),t._v(": Add new records. If records do not exist, new records will be created.")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Update")]),t._v(": Update existing records if they match based on the identifier. If records exist, they will be updated.")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Delete")]),t._v(": Remove records based on the provided data. If records exist, they will be deleted, Before importing. If the data does not exist, a validation error will be displayed.")])])]),t._v(" "),e("h3",{attrs:{id:"edit-import-data"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#edit-import-data"}},[t._v("#")]),t._v(" Edit Import Data")]),t._v(" "),e("p",[t._v("Before finalizing the import, you can review and edit the data. The system allows you to preview the imported data and make corrections if needed.")]),t._v(" "),e("p",[t._v("You can adjust the queue settings in the "),e("code",[t._v("config/queue.php")]),t._v(" file if needed.")]),t._v(" "),e("h3",{attrs:{id:"conclusion"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#conclusion"}},[t._v("#")]),t._v(" Conclusion")]),t._v(" "),e("p",[t._v("The "),e("strong",[t._v("Data Transfer Module")]),t._v(" provides a robust solution for importing large datasets into your Krayin application, with flexible options for validation, error handling, and queue-based processing. Whether you're importing millions of records or just a few, this module simplifies the process while ensuring data integrity and flexibility.")])])}),[],!1,null,null,null);e.default=s.exports}}]);