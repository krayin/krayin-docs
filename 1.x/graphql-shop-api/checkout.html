<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Checkout | Krayin CRM Documentation</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" href="/favicon.ico">
    <meta name="description" content="Krayin CRM Developer Portal">
    
    <link rel="preload" href="/assets/css/0.styles.7e612dfc.css" as="style"><link rel="preload" href="/assets/js/app.effb22c6.js" as="script"><link rel="preload" href="/assets/js/2.d530cad3.js" as="script"><link rel="preload" href="/assets/js/61.8159bfb9.js" as="script"><link rel="prefetch" href="/assets/js/10.32aab1bd.js"><link rel="prefetch" href="/assets/js/11.aa08d86f.js"><link rel="prefetch" href="/assets/js/12.73591cfd.js"><link rel="prefetch" href="/assets/js/13.1bd888a9.js"><link rel="prefetch" href="/assets/js/14.d0e6dddd.js"><link rel="prefetch" href="/assets/js/15.722c864e.js"><link rel="prefetch" href="/assets/js/16.d69a6490.js"><link rel="prefetch" href="/assets/js/17.45f75b96.js"><link rel="prefetch" href="/assets/js/18.9adb8516.js"><link rel="prefetch" href="/assets/js/19.828215a4.js"><link rel="prefetch" href="/assets/js/20.5a19eb77.js"><link rel="prefetch" href="/assets/js/21.e2f08b60.js"><link rel="prefetch" href="/assets/js/22.d37feb7b.js"><link rel="prefetch" href="/assets/js/23.e61e5309.js"><link rel="prefetch" href="/assets/js/24.7812ad22.js"><link rel="prefetch" href="/assets/js/25.d7cdf3d8.js"><link rel="prefetch" href="/assets/js/26.27e8c914.js"><link rel="prefetch" href="/assets/js/27.9f9cdc4d.js"><link rel="prefetch" href="/assets/js/28.bda19e0a.js"><link rel="prefetch" href="/assets/js/29.756ac005.js"><link rel="prefetch" href="/assets/js/3.f92e252e.js"><link rel="prefetch" href="/assets/js/30.6cecb75b.js"><link rel="prefetch" href="/assets/js/31.be6cbca2.js"><link rel="prefetch" href="/assets/js/32.5a594b32.js"><link rel="prefetch" href="/assets/js/33.31bd53ca.js"><link rel="prefetch" href="/assets/js/34.4b96eda2.js"><link rel="prefetch" href="/assets/js/35.e545a8f5.js"><link rel="prefetch" href="/assets/js/36.cf9e7051.js"><link rel="prefetch" href="/assets/js/37.6cf3167d.js"><link rel="prefetch" href="/assets/js/38.6c68472d.js"><link rel="prefetch" href="/assets/js/39.52cbd3c8.js"><link rel="prefetch" href="/assets/js/4.cc99b832.js"><link rel="prefetch" href="/assets/js/40.e77568a0.js"><link rel="prefetch" href="/assets/js/41.00210a13.js"><link rel="prefetch" href="/assets/js/42.e7fd0c10.js"><link rel="prefetch" href="/assets/js/43.f3ad1626.js"><link rel="prefetch" href="/assets/js/44.68ad87c5.js"><link rel="prefetch" href="/assets/js/45.cc57c75b.js"><link rel="prefetch" href="/assets/js/46.6cedf55c.js"><link rel="prefetch" href="/assets/js/47.b1eea64a.js"><link rel="prefetch" href="/assets/js/48.3d8bcea5.js"><link rel="prefetch" href="/assets/js/49.ab9e0421.js"><link rel="prefetch" href="/assets/js/5.79517842.js"><link rel="prefetch" href="/assets/js/50.777919c2.js"><link rel="prefetch" href="/assets/js/51.8000f69e.js"><link rel="prefetch" href="/assets/js/52.fec850b0.js"><link rel="prefetch" href="/assets/js/53.e7a49418.js"><link rel="prefetch" href="/assets/js/54.c9a3d2ae.js"><link rel="prefetch" href="/assets/js/55.8340ad55.js"><link rel="prefetch" href="/assets/js/56.420eb83f.js"><link rel="prefetch" href="/assets/js/57.2cc43475.js"><link rel="prefetch" href="/assets/js/58.d4bc3c85.js"><link rel="prefetch" href="/assets/js/59.d51e351a.js"><link rel="prefetch" href="/assets/js/6.24736215.js"><link rel="prefetch" href="/assets/js/60.acc41874.js"><link rel="prefetch" href="/assets/js/62.c5c6db0c.js"><link rel="prefetch" href="/assets/js/63.6bf120eb.js"><link rel="prefetch" href="/assets/js/64.86e3da29.js"><link rel="prefetch" href="/assets/js/65.63465f7e.js"><link rel="prefetch" href="/assets/js/66.cbd520ed.js"><link rel="prefetch" href="/assets/js/67.dbea9d3f.js"><link rel="prefetch" href="/assets/js/68.c05f1fb8.js"><link rel="prefetch" href="/assets/js/69.b32c85e7.js"><link rel="prefetch" href="/assets/js/7.85179b91.js"><link rel="prefetch" href="/assets/js/70.ff0c3661.js"><link rel="prefetch" href="/assets/js/71.efcce820.js"><link rel="prefetch" href="/assets/js/72.34c11e91.js"><link rel="prefetch" href="/assets/js/73.564fe433.js"><link rel="prefetch" href="/assets/js/74.70c9ddff.js"><link rel="prefetch" href="/assets/js/75.80fb5ee4.js"><link rel="prefetch" href="/assets/js/76.f29b37d2.js"><link rel="prefetch" href="/assets/js/77.db811ef4.js"><link rel="prefetch" href="/assets/js/78.350882da.js"><link rel="prefetch" href="/assets/js/79.31db28df.js"><link rel="prefetch" href="/assets/js/8.58494e0c.js"><link rel="prefetch" href="/assets/js/80.a0bc0e59.js"><link rel="prefetch" href="/assets/js/81.9e72e2ec.js"><link rel="prefetch" href="/assets/js/82.6167bb9f.js"><link rel="prefetch" href="/assets/js/83.89f9071f.js"><link rel="prefetch" href="/assets/js/84.638af48b.js"><link rel="prefetch" href="/assets/js/85.e5c6a009.js"><link rel="prefetch" href="/assets/js/86.0525fd44.js"><link rel="prefetch" href="/assets/js/87.1d4b576d.js"><link rel="prefetch" href="/assets/js/88.0a48102f.js"><link rel="prefetch" href="/assets/js/89.172ce88d.js"><link rel="prefetch" href="/assets/js/9.6eae704b.js"><link rel="prefetch" href="/assets/js/90.e97a1732.js"><link rel="prefetch" href="/assets/js/91.f21f654b.js"><link rel="prefetch" href="/assets/js/92.737d9dc7.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7e612dfc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.svg" alt="Krayin CRM Documentation" class="logo"> <span class="site-name can-hide">Krayin CRM Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div> <a href="https://github.com/krayin/krayin-crm" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute to Krayin CRM
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div> <a href="https://github.com/krayin/krayin-crm" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute to Krayin CRM
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/1.x/introduction" class="sidebar-heading clickable open"><span>Introduction</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/1.x/introduction/requirements.html" class="sidebar-link">Requirements</a></li><li><a href="/1.x/introduction/installation.html" class="sidebar-link">Installation</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/1.x/packages" class="sidebar-heading clickable"><span>Package Development</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/1.x/custom-attributes" class="sidebar-heading clickable"><span>Custom Attributes</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/1.x/datagrid" class="sidebar-heading clickable"><span>Datagrid</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="checkout"><a href="#checkout" class="header-anchor">#</a> Checkout</h1> <p>In this section, we will see all the APIs which are related to Checkout Process.</p> <p><strong>Note</strong> Make sure customer have item in the cart.</p> <h2 id="get-checkout-addresses"><a href="#get-checkout-addresses" class="header-anchor">#</a> Get Checkout addresses</h2> <p>You can get all the  Checkout addresses from the Bagisto store. You can achieve this job by using the <code>checkoutAddresses</code> API call.</p> <ul><li><p>Headers</p> <table><thead><tr><th>Key</th> <th>Value</th></tr></thead> <tbody><tr><td>Accept</td> <td>application/json</td></tr></tbody></table></li> <li><p>Single Request Endpoint</p> <p><code>POST http(s)://example.com/graphql</code></p></li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If you are using pagination and want to know more info about responses then check the <a href="./explanation">explanation</a> portion.</p></div> <ul><li>Query<div class="language-query extra-class"><pre class="language-text"><code>  query checkoutAddresses {
      checkoutAddresses {
          success
          isGuest
          customer {
              id
              firstName
              lastName
              name
              gender
              dateOfBirth
              email
              phone
              password
              apiToken
              customerGroupId
              subscribedToNewsLetter
              isVerified
              token
              notes
              status
              createdAt
              updatedAt
          }
          addresses {
              id
              address
          }
          addressList {
              id
              customerId
              companyName
              firstName
              lastName
              address1
              address2
              country
              state
              city
              postcode
              phone
              vatId
              addressType
              createdAt
              updatedAt
          }
          cartCount
          defaultCountry
      }
  }
</code></pre></div></li></ul> <details class="custom-block details"><summary>Response</summary> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;checkoutAddresses&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Success: Customer's addresses fetched successfully.&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;isGuest&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token property">&quot;customer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Naresh&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Verma&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Naresh Verma&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;gender&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
                <span class="token property">&quot;dateOfBirth&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
                <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;naresh.verma327@webkul.com&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
                <span class="token property">&quot;password&quot;</span><span class="token operator">:</span> <span class="token string">&quot;$2y$10$tIP1ciRlUCI0ahjsYsjHsenTvXen1PBQKfRu0OklpufOAjf/ruC2O&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;apiToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;r1bxG3wNl2No0mbTEEJnD6hWkADKcsMA8jnHDnA0zteEw2RRhaqAuUxehzqx7pARAS6WA9jLG3sanFhg&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;customerGroupId&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token property">&quot;subscribedToNewsLetter&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;isVerified&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token property">&quot;token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;d5308d5f06d01d3393501cb6ebf4ae06&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;notes&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
                <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token property">&quot;createdAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-05-28 12:54:56&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;updatedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-05-28 12:54:56&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;addresses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Naresh Verma\n                            3180  Bluff, GLEN CAMPBELL, PA, US, \n                            15742222222\n                            T: 234343544&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;addressList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;customerId&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;companyName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Webkul2&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Tom Demo2&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Martin Demo2&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;address1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3180  Bluff&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;address2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Street&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;country&quot;</span><span class="token operator">:</span> <span class="token string">&quot;US&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PA&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;city&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GLEN CAMPBELL&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;postcode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;15742222222&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;234343544&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;vatId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;INV12345678904&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;addressType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;customer&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;createdAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-05-28 12:59:46&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;updatedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-05-28 12:59:46&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;cartCount&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;defaultCountry&quot;</span><span class="token operator">:</span> <span class="token string">&quot;IN&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></details> <h2 id="get-shipping-methods"><a href="#get-shipping-methods" class="header-anchor">#</a> Get Shipping Methods</h2> <p>After you get the checkout addresses you need to select the address for checkout or you can pass the billing and shipping address for the checkout. You can achieve this job by using the <code>shippingMethods</code> API call.</p> <ul><li><p>Headers</p> <table><thead><tr><th>Key</th> <th>Value</th></tr></thead> <tbody><tr><td>Accept</td> <td>application/json</td></tr></tbody></table></li> <li><p>Single Request Endpoint</p> <p><code>POST http(s)://example.com/graphql</code></p></li></ul> <p><strong>Note</strong> No need to save the shipping method for <code>Virtual</code> and <code>Downloadable</code> and <code>Booking</code> type Product. You can jump to <code>savePayment</code> Mutation. <a href="#save-payment-methods">Save Payment API</a></p> <ul><li>Query<div class="language-query extra-class"><pre class="language-text"><code>  mutation shippingMethods {
      shippingMethods(input: {
          billingAddressId: 12
          shippingAddressId: 12
          billing: {
              companyName: &quot;C. Trades&quot;
              firstName: &quot;Doug&quot;
              lastName: &quot;D Nelson&quot;
              email: &quot;doug@example.com&quot;
              address1: &quot;836 Hog&quot;
              address2: &quot; Camp Road&quot;
              city: &quot;Wheeling&quot;
              country: &quot;US&quot;
              state: &quot;Illinois&quot;
              postcode: &quot;60090&quot;
              phone: &quot;708-491-5303&quot;
              useForShipping: false
              saveAsAddress: true
          }
          shipping: {
              companyName: &quot;C. Trades&quot;
              firstName: &quot;Doug&quot;
              lastName: &quot;D Nelson&quot;
              email: &quot;doug@example.com&quot;
              address1: &quot;2252  Charmaine Lane&quot;
              address2: &quot;&quot;
              city: &quot;ROCKLEDGE&quot;
              country: &quot;US&quot;
              state: &quot;Georgia&quot;
              postcode: &quot;30454&quot;
              phone: &quot;806-494-1788&quot;
              saveAsAddress: true
          }
      }) {
          success
          cartTotal
          cartCount
          shippingMethods {
              title
              methods {
                  code
                  label
                  price
                  formattedPrice
                  basePrice
                  formattedBasePrice
              }
          }
          paymentMethods {
              method
              method_title
              description
              sort
          }
          jumpToSection
      }
  }
</code></pre></div></li></ul> <details class="custom-block details"><summary>Response</summary> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;shippingMethods&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Success: Cart address save successfully.&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;cartTotal&quot;</span><span class="token operator">:</span> <span class="token string">&quot;$10.00&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;cartCount&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;shippingMethods&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Flat Rate&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;methods&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;flatrate_flatrate&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;label&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Flat Rate&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;formattedPrice&quot;</span><span class="token operator">:</span> <span class="token string">&quot;$20.00&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;basePrice&quot;</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;formattedBasePrice&quot;</span><span class="token operator">:</span> <span class="token string">&quot;$20.00&quot;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Free Shipping&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;methods&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;free_free&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;label&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Free Shipping&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;formattedPrice&quot;</span><span class="token operator">:</span> <span class="token string">&quot;$0.00&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;basePrice&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;formattedBasePrice&quot;</span><span class="token operator">:</span> <span class="token string">&quot;$0.00&quot;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;paymentMethods&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
            <span class="token property">&quot;jumpToSection&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shipping&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></details> <h2 id="get-payment-methods"><a href="#get-payment-methods" class="header-anchor">#</a> Get Payment Methods</h2> <p>Ater You selected the address for checkout and get the list of shipping methods, now you can call the paymentMethods mutation to select the shipping method and to get the list of the payment methods. You can achieve this job by using the <code>paymentMethods</code> API call.</p> <p><strong>Note</strong> You need to pass the shipping method <code>code</code> with the request to select that shipping method.</p> <ul><li><p>Headers</p> <table><thead><tr><th>Key</th> <th>Value</th></tr></thead> <tbody><tr><td>Accept</td> <td>application/json</td></tr></tbody></table></li> <li><p>Single Request Endpoint</p> <p><code>POST http(s)://example.com/graphql</code></p></li> <li><p>Query</p> <div class="language-query extra-class"><pre class="language-text"><code>  mutation paymentMethods {
      paymentMethods(input: {
          shippingMethod: &quot;flatrate_flatrate&quot;
      }) {
          success
          cartTotal
          cartCount
          paymentMethods {
              method
              method_title
              description
              sort
          }
          jumpToSection
      }
  }
</code></pre></div></li></ul> <details class="custom-block details"><summary>Response</summary> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;paymentMethods&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Success: Shipment has been selected successfully.&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;cartTotal&quot;</span><span class="token operator">:</span> <span class="token string">&quot;$10.00&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;cartCount&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;paymentMethods&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;method&quot;</span><span class="token operator">:</span> <span class="token string">&quot;paypal_smart_button&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;method_title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PayPal Smart Button&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PayPal&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;sort&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;method&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cashondelivery&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;method_title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Cash On Delivery&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Cash On Delivery&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;sort&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;method&quot;</span><span class="token operator">:</span> <span class="token string">&quot;moneytransfer&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;method_title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Money Transfer&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Money Transfer&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;sort&quot;</span><span class="token operator">:</span> <span class="token number">2</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;method&quot;</span><span class="token operator">:</span> <span class="token string">&quot;paypal_standard&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;method_title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PayPal Standard&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PayPal Standard&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;sort&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;jumpToSection&quot;</span><span class="token operator">:</span> <span class="token string">&quot;payment&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></details> <h2 id="save-payment-methods"><a href="#save-payment-methods" class="header-anchor">#</a> Save Payment Methods</h2> <p>Ater You selected the shipping methods for checkout and get the list of Payment methods, now you can call the savePayment mutation to select the payment method and to get checkout review. You can achieve this job by using the <code>savePayment</code> API call.</p> <p><strong>Note</strong> You need to pass the payment <code>method</code> with the request to select that payment method.</p> <ul><li><p>Headers</p> <table><thead><tr><th>Key</th> <th>Value</th></tr></thead> <tbody><tr><td>Accept</td> <td>application/json</td></tr></tbody></table></li> <li><p>Single Request Endpoint</p> <p><code>POST http(s)://example.com/graphql</code></p></li> <li><p>Query</p> <div class="language-query extra-class"><pre class="language-text"><code>  mutation savePayment {
      savePayment(input: {
          payment: {
              method: &quot;cashondelivery&quot;
          }
      }) {
          success
          jumpToSection
          cart {
              id
              customerEmail
              customerFirstName
              customerLastName
              shippingMethod
              couponCode
              isGift
              itemsCount
              itemsQty
              exchangeRate
              globalCurrencyCode
              baseCurrencyCode
              channelCurrencyCode
              cartCurrencyCode
              grandTotal
              baseGrandTotal
              subTotal
              baseSubTotal
              taxTotal
              baseTaxTotal
              discountAmount
              baseDiscountAmount
              checkoutMethod
              isGuest
              isActive
              conversionTime
              customerId
              channelId
              appliedCartRuleIds
              createdAt
              updatedAt
          }
      }
  }
</code></pre></div></li></ul> <details class="custom-block details"><summary>Response</summary> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;savePayment&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Success: Payment method selected successfully.&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;jumpToSection&quot;</span><span class="token operator">:</span> <span class="token string">&quot;review&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;cart&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;customerEmail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;naresh.verma327@webkul.com&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;customerFirstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Naresh&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;customerLastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Verma&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;shippingMethod&quot;</span><span class="token operator">:</span> <span class="token string">&quot;flatrate_flatrate&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;couponCode&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
                <span class="token property">&quot;isGift&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;itemsCount&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;itemsQty&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token property">&quot;exchangeRate&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
                <span class="token property">&quot;globalCurrencyCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USD&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;baseCurrencyCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USD&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;channelCurrencyCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USD&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;cartCurrencyCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USD&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;grandTotal&quot;</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
                <span class="token property">&quot;baseGrandTotal&quot;</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
                <span class="token property">&quot;subTotal&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                <span class="token property">&quot;baseSubTotal&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                <span class="token property">&quot;taxTotal&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;baseTaxTotal&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;discountAmount&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;baseDiscountAmount&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;checkoutMethod&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
                <span class="token property">&quot;isGuest&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;isActive&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token property">&quot;conversionTime&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
                <span class="token property">&quot;customerId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;channelId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;appliedCartRuleIds&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;createdAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-05-28 18:39:13&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;updatedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-05-28 18:54:39&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></details> <h2 id="apply-coupon"><a href="#apply-coupon" class="header-anchor">#</a> Apply Coupon</h2> <p>After saving the payment method for checkout you can apply coupon code for checkout process. You can achieve this job by using the <code>applyCoupon</code> API call.</p> <ul><li><p>Headers</p> <table><thead><tr><th>Key</th> <th>Value</th></tr></thead> <tbody><tr><td>Accept</td> <td>application/json</td></tr></tbody></table></li> <li><p>Single Request Endpoint</p> <p><code>POST http(s)://example.com/graphql</code></p></li> <li><p>Query</p> <div class="language-query extra-class"><pre class="language-text"><code>  mutation applyCoupon {
      applyCoupon(input: {
          code: &quot;C84U8FTR4TEM&quot;
      }) {
          success
          message
      }
  }
</code></pre></div></li></ul> <details class="custom-block details"><summary>Response</summary> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;applyCoupon&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Coupon code is invalid.&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></details> <h2 id="place-order"><a href="#place-order" class="header-anchor">#</a> Place Order</h2> <p>After Following all the above checkout process steps place your order. to perform this action you have to call the <code>placeOrder</code> API.</p> <ul><li><p>Headers</p> <table><thead><tr><th>Key</th> <th>Value</th></tr></thead> <tbody><tr><td>Accept</td> <td>application/json</td></tr> <tr><td>Authorization</td> <td>Bearer <code>token-string</code></td></tr></tbody></table></li></ul> <h3 id="examples"><a href="#examples" class="header-anchor">#</a> Examples</h3> <p>Let's take an example,</p> <ul><li>Request Query<div class="language-Query extra-class"><pre class="language-text"><code>  mutation placeOrder {
      placeOrder {
          success
          redirectUrl
      }
  }
</code></pre></div></li></ul> <details class="custom-block details"><summary>Response</summary> <div class="language-json extra-class"><pre class="language-json"><code>  <span class="token punctuation">{</span>
      <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;placeOrder&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;redirectUrl&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div></details></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/krayin/krayin-crm-docs/edit/master/docs/1.x/graphql-shop-api/checkout.md" target="_blank" rel="noopener noreferrer">Help us improve this page on Github.</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/13/2021, 11:23:42 AM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.effb22c6.js" defer></script><script src="/assets/js/2.d530cad3.js" defer></script><script src="/assets/js/61.8159bfb9.js" defer></script>
  </body>
</html>
